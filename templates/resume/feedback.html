{% extends "layouts/base.html" %}

{% block title %}이력서 피드백 - 말해뭐해{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/resume/recommend.css">
{% endblock %}

{% block content %}
<div class="feedback-container-wrapper">
    <div class="container">
        <div id="inputForm" class="content-card">
            <h2 class="section-title">직무 맞춤형 이력서 분석</h2>
            <p class="section-desc">지원하려는 회사의 채용 공고를 입력하면 AI가 이력서를 분석해 드립니다.</p>

            <div class="form-group">
                <label for="resumeSelect">분석할 이력서 선택</label>
                <select id="resumeSelect">
                    <option value="">이력서를 선택하세요</option>
                    <option value="1">이력서 1.pdf (2026-02-19)</option>
                    <option value="2">이력서 2.pdf (2026-02-10)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="companyUrl">채용 공고 URL (또는 회사명/직무)</label>
                <input type="text" id="companyUrl" placeholder="예: https://wanted.co.kr/wd/12345 또는 삼성전자/AI개발">
            </div>

            <button type="button" class="analyze-btn" onclick="startAnalysis()">분석 시작하기</button>
        </div>

        <div id="loadingArea" class="content-card" style="display: none;">
            <div class="loading-container">
                <div class="spinner"></div>
                <h3>AI가 채용 정보를 크롤링하여 분석 중입니다...</h3>
                <p>잠시만 기다려 주세요 (약 2~5초 소요)</p>
            </div>
        </div>

        <div id="resultArea" class="content-card" style="display: none;">
            <h2 class="section-title">분석 결과 리포트</h2>
            
            <div class="analysis-result">
                <div class="match-score-box">
                    <div class="score-label">직무 적합도 점수</div>
                    <div class="score-value">85<span>점</span></div>
                </div>

                <div class="feedback-box good">
                    <h4>✅ 강점 및 적합 포인트</h4>
                    <p>지원 직무에서 요구하는 Python 및 PyTorch 숙련도가 이력서 내 프로젝트 경험을 통해 충분히 입증되었습니다.</p>
                </div>

                <div class="feedback-box bad">
                    <h4>⚠️ 보완 권장 사항</h4>
                    <p>공고에서 강조하는 '대용량 트래픽 처리 경험'에 대한 구체적인 수치 제시가 이력서에 부족해 보입니다.</p>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-retry" onclick="location.reload()">다시 분석하기</button>
                <button class="btn btn-practice" onclick="location.href='/interviews/{{ session_id }}'">관련 질문으로 연습하기</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/resume/recommend.js"></script>
{% endblock %}
